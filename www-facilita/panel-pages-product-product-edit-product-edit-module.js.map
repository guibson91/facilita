{"version":3,"sources":["webpack:///./src/app/panel/pages/product/product-edit/product-edit.module.ts","webpack:///./src/app/panel/pages/product/product-edit/product-edit.page.html","webpack:///./src/app/panel/pages/product/product-edit/product-edit.page.scss","webpack:///./src/app/panel/pages/product/product-edit/product-edit.page.ts"],"names":[],"mappings":"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","file":"panel-pages-product-product-edit-product-edit-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProductEditPage } from './product-edit.page';\r\nimport { PanelComponentsModule } from '../../../components/panel-components.module';\r\nimport { GlobalComponentsModule } from '../../../../components/global-components.module';\r\nimport { NgPipesModule } from 'ngx-pipes';\r\nimport { PipesModule } from '../../../../pipes/pipes.module';\r\nimport { CategorySelectPageModule } from '../category-select/category-select.module';\r\nimport { ProductComplementUpdatePageModule } from '../product-complement-update/product-complement-update.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductEditPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    PanelComponentsModule,\r\n    GlobalComponentsModule,\r\n    NgPipesModule,\r\n    PipesModule,\r\n    CategorySelectPageModule,\r\n    RouterModule.forChild(routes),\r\n    ProductComplementUpdatePageModule\r\n  ],\r\n  declarations: [ProductEditPage]\r\n})\r\nexport class ProductEditPageModule { }\r\n","module.exports = \"<ion-header no-border>\\r\\n  <nano-navbar title=\\\"Cadastrar/Editar produto\\\" icon=\\\"menus-icon-pizza\\\" [helpPage]=\\\"11\\\"></nano-navbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n  <ion-card class=\\\"content-card\\\">\\r\\n    <nano-loading [loading]=\\\"loading\\\">\\r\\n      <!-- Informações gerais do produto -->\\r\\n      <form [formGroup]=\\\"form\\\" class=\\\"form-content\\\">\\r\\n        <ion-list>\\r\\n          <!--<ion-list class=\\\"myformlist\\\" color=\\\"light\\\">-->\\r\\n\\r\\n          <!-- Imagem e barra de progresso -->\\r\\n          <nano-uploadimage [form]=\\\"this.form\\\" [storagePath]=\\\"'products'\\\"></nano-uploadimage>\\r\\n\\r\\n          <!--Nome-->\\r\\n          <ion-item padding-horizontal>\\r\\n            <ion-label position=\\\"stacked\\\" color=\\\"tertiary\\\">Nome</ion-label>\\r\\n            <ion-input class=\\\"input\\\" formControlName=\\\"name\\\" maxlength=\\\"50\\\"></ion-input>\\r\\n          </ion-item>\\r\\n\\r\\n          <!--Descrição-->\\r\\n          <ion-item padding-horizontal>\\r\\n            <ion-label position=\\\"stacked\\\" color=\\\"tertiary\\\">Descrição</ion-label>\\r\\n            <ion-textarea class=\\\"input\\\" rows=\\\"5\\\" formControlName=\\\"description\\\"></ion-textarea>\\r\\n          </ion-item>\\r\\n\\r\\n          <!-- Preço -->\\r\\n          <ion-item padding-horizontal item-content>\\r\\n            <ion-label position=\\\"stacked\\\" color=\\\"tertiary\\\">Preço base (em R$)</ion-label>\\r\\n            <money-input item-content [control]=\\\"form.controls['priceBase']\\\"></money-input>\\r\\n          </ion-item>\\r\\n\\r\\n          <!-- Ativar preço promocional -->\\r\\n          <!-- <ion-item>\\r\\n            <ion-label>Quantidade do produto sempre unitária</ion-label>\\r\\n            <ion-checkbox color=\\\"primary\\\" formControlName=\\\"fixedQuantity\\\"></ion-checkbox>\\r\\n          </ion-item> -->\\r\\n\\r\\n          <!-- Ativar preço promocional -->\\r\\n          <ion-item padding-horizontal>\\r\\n            <ion-label>Ativar promoção</ion-label>\\r\\n            <ion-toggle slot=\\\"end\\\" color=\\\"primary\\\" formControlName=\\\"promotionActive\\\"></ion-toggle>\\r\\n          </ion-item>\\r\\n          <ion-radio-group [hidden]=\\\"!form.controls['promotionActive'].value\\\" [(ngModel)]=\\\"promotionType\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (ionChange)=\\\"detect()\\\">\\r\\n            <ion-item padding-horizontal>\\r\\n              <ion-label>Definir valor de desconto</ion-label>\\r\\n              <ion-radio value=\\\"money\\\"></ion-radio>\\r\\n            </ion-item>\\r\\n            <ion-item padding-horizontal>\\r\\n              <ion-label>Definir porcentagem de desconto</ion-label>\\r\\n              <ion-radio value=\\\"percentage\\\"></ion-radio>\\r\\n            </ion-item>\\r\\n          </ion-radio-group>\\r\\n          <!--Preço Promocional por valor-->\\r\\n          <ion-item padding-horizontal [hidden]=\\\"!(form.controls['promotionActive'].value && promotionType == 'money')\\\">\\r\\n            <ion-label position=\\\"stacked\\\" color=\\\"tertiary\\\">Valor de desconto (em R$)</ion-label>\\r\\n            <money-input [control]=\\\"form.controls['promotionPrice']\\\"></money-input>\\r\\n          </ion-item>\\r\\n\\r\\n          <!--Preço Promocional por porcentagem-->\\r\\n          <ion-item padding-horizontal item-content [hidden]=\\\"!(form.controls['promotionActive'].value && promotionType == 'percentage')\\\">\\r\\n            <ion-label position=\\\"stacked\\\" class=\\\"label\\\" color=\\\"tertiary\\\">Porcentagem de desconto</ion-label>\\r\\n            <money-input item-content [control]=\\\"form.controls['promotionPercentage']\\\"></money-input>\\r\\n          </ion-item>\\r\\n\\r\\n          <!-- <ion-input class=\\\"input\\\" type=\\\"tel\\\" (keyup)=\\\"amountChange($event.target.value)\\\" formControlName=\\\"priceBase\\\"></ion-input> -->\\r\\n\\r\\n          <!-- Categoria -->\\r\\n          <div padding-horizontal>\\r\\n            <h3 ion-text color=\\\"tertiary\\\">Categoria</h3>\\r\\n            <h4 ion-text *ngIf=\\\"categoryActual\\\">{{categoryActual.name}}</h4>\\r\\n            <ion-button class=\\\"button-select-category\\\" fill=\\\"clear\\\" (click)=\\\"selectCategory()\\\">Selecionar categoria</ion-button>\\r\\n          </div>\\r\\n\\r\\n          <ion-item-divider text-center no-lines>\\r\\n            <h5 ion-text color=\\\"tertiary\\\">Opções do produto</h5>\\r\\n          </ion-item-divider>\\r\\n\\r\\n          <!-- Adicionar Opções do produto -->\\r\\n          <ion-button padding ion-item icon-left fill=\\\"clear\\\" color=\\\"tertiary\\\" (click)=\\\"updateComplement()\\\">\\r\\n            <ion-icon name=\\\"add\\\" item-left></ion-icon>\\r\\n            <h6 ion-text>Adicionar complemento</h6>\\r\\n          </ion-button>\\r\\n\\r\\n          <ion-item padding-horizontal class=\\\"complement\\\" *ngFor=\\\"let complement of complements; let i = index\\\">\\r\\n            <div style=\\\"display: flex;align-items: center;\\\">\\r\\n              <h2 text-wraper>{{complement?.title}}</h2>\\r\\n              <ion-button class=\\\"set-priority-category-button first-button\\\" icon-only fill=\\\"clear\\\" (click)=\\\"upComplement(complement, i)\\\"\\r\\n                color=\\\"facebook\\\">\\r\\n                <ion-icon name=\\\"arrow-up\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n              <ion-button class=\\\"set-priority-category-button\\\" icon-only fill=\\\"clear\\\" (click)=\\\"downComplement(complement, i)\\\"\\r\\n                color=\\\"google\\\">\\r\\n                <ion-icon name=\\\"arrow-down\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </div>\\r\\n            <ion-buttons slot=\\\"end\\\">\\r\\n              <ion-button color=\\\"primary\\\" fill=\\\"clear\\\" icon-only (click)=\\\"updateComplement(complement)\\\">\\r\\n                <ion-icon name=\\\"md-create\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n              <ion-button color=\\\"danger\\\" fill=\\\"clear\\\" icon-only (click)=\\\"removeComplement(complement)\\\">\\r\\n                <ion-icon name=\\\"trash\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </ion-buttons>\\r\\n          </ion-item>\\r\\n\\r\\n        </ion-list>\\r\\n      </form>\\r\\n    </nano-loading>\\r\\n    <nano-buttons [canSave]=\\\"form.valid\\\" [save]=\\\"save.bind(this)\\\" [canRemove]=\\\"product\\\" [remove]=\\\"remove.bind(this)\\\"\\r\\n      [cancel]=\\\"cancel.bind(this)\\\"></nano-buttons>\\r\\n  </ion-card>\\r\\n</ion-content>\"","module.exports = \"money-input {\\n  width: 100%; }\\n\\nh2 {\\n  line-height: 1.3 !important; }\\n\\n@media (max-width: 400px) {\\n  .complement {\\n    display: flex;\\n    flex-direction: column; } }\\n\\n.button-select-category {\\n  margin-left: -7px; }\\n\\ninput:focus {\\n  outline: none !important; }\\n\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Product, Complement } from '../../../../../models/product';\r\nimport { Category } from '../../../../../models/category';\r\nimport { NavController, AlertController, MenuController, LoadingController, ModalController } from '@ionic/angular';\r\nimport { SharedService } from '../../../../services/shared.service';\r\nimport { Observable, of, combineLatest, throwError } from 'rxjs';\r\nimport { switchMap, tap, first } from 'rxjs/operators';\r\nimport { Company } from '../../../../../models/company';\r\nimport { CategorySelectPage } from '../category-select/category-select.page';\r\nimport { OverlayEventDetail } from '@ionic/core';\r\nimport { ProductComplementUpdatePage } from '../product-complement-update/product-complement-update.page';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-product-edit',\r\n  templateUrl: './product-edit.page.html',\r\n  styleUrls: ['./product-edit.page.scss'],\r\n})\r\nexport class ProductEditPage implements OnInit {\r\n\r\n  /**\r\n   * Formulário\r\n   */\r\n  form: FormGroup;\r\n\r\n  /**\r\n   * Dados do produto a ser editado.\r\n   */\r\n  product: Product;\r\n\r\n  /**\r\n   * Complementos do produto.\r\n   */\r\n  complements: Complement[] = [];\r\n\r\n  /**\r\n   * Categoria no início da atualização\r\n   */\r\n  categoryOld: Category;\r\n\r\n  /**\r\n   * Categoria que será atualizada no produto\r\n   */\r\n  categoryActual: Category\r\n\r\n  loading: boolean;\r\n\r\n  saveChange: boolean;\r\n\r\n  auxActives: boolean[] = [];\r\n\r\n  /**\r\n   * Se o produto veio como cópia\r\n   */\r\n  copy: boolean = false;\r\n\r\n  // \"money\" ou \"percentage\"\r\n  promotionType: string;\r\n\r\n  /**\r\n   * Empresa atual\r\n   */\r\n  company: Company;\r\n\r\n  constructor(private navCtrl: NavController,\r\n    public alert: AlertController,\r\n    private formBuilder: FormBuilder,\r\n    private shared: SharedService,\r\n    private menuCtrl: MenuController,\r\n    private route: ActivatedRoute,\r\n    private ref: ChangeDetectorRef,\r\n    public loadingCtrl: LoadingController,\r\n    private modalCtrl: ModalController) { }\r\n\r\n  ngOnInit() {\r\n    this.menuCtrl.enable(true);\r\n    this.loading = true;\r\n\r\n    this.form = this.formBuilder.group({\r\n      name: ['', Validators.required],\r\n      description: [''],\r\n      image: [''],\r\n      priceBase: [null, Validators.required],\r\n      fixedQuantity: [false],\r\n      promotionPrice: [null],\r\n      promotionPercentage: [null],\r\n      promotionActive: [false],\r\n      category: ['', Validators.required]\r\n    });\r\n\r\n    this.form.valueChanges.subscribe((data) => {\r\n      this.ref.detectChanges()\r\n    })\r\n\r\n\r\n    this.route.paramMap\r\n      .subscribe((params: ParamMap) => {\r\n        if (params.get('copy'))\r\n          this.copy = true\r\n        else\r\n          this.copy = false\r\n      })\r\n\r\n    let company$ = this.route.paramMap\r\n      .pipe(switchMap((params: ParamMap) => {\r\n        if (params.get('company_id'))\r\n          return Company.object(params.get('company_id')).pipe(first())\r\n        else\r\n          return of(null)\r\n      }))\r\n\r\n    let product$ = this.route.paramMap\r\n      .pipe(switchMap((params: ParamMap) => {\r\n        if (params.get('product_id'))\r\n          return Product.object(params.get('product_id')).pipe(first())\r\n        else\r\n          return of(null)\r\n      }))\r\n\r\n    combineLatest([\r\n      company$,\r\n      product$\r\n    ]).subscribe((arr: [Company, Product]) => {\r\n      this.company = arr[0]\r\n      this.product = arr[1]\r\n      //Página de edição de produto\r\n      if (this.product) {\r\n        this.form.patchValue(this.product)\r\n\r\n        if (this.product.promotionActive) {\r\n          if (this.product.promotionPrice) {\r\n            this.promotionType = 'money';\r\n          }\r\n          else {\r\n            this.promotionType = 'percentage';\r\n          }\r\n        }\r\n\r\n        if (this.product.fixedQuantity) {\r\n          let obj: any = {};\r\n          obj.fixedQuantity = true;\r\n          this.form.patchValue(obj);\r\n        }\r\n        if (this.product.category && this.product.category.id) {\r\n          this.categoryActual = this.categoryOld = this.product.category\r\n          Category.object(this.categoryActual.id)\r\n            .pipe(first())\r\n            .subscribe((c) => {\r\n              this.categoryActual = c;\r\n              this.ref.detectChanges()\r\n            })\r\n          this.form.patchValue({\r\n            category: this.categoryActual.id\r\n          })\r\n        }\r\n\r\n        // Inicializando a lista de complementos se o produto tiver complementos.\r\n        // Se não tiver complementos inicializar com um array vazio.\r\n        if (this.product.complements) {\r\n          //Fazer uma cópia do array usando slice para alterações no this.complements não mudar no this.product.complements\r\n          this.complements = this.product.complements.slice() || [];\r\n          //Retira os nulls que vem do firebase\r\n          this.complements = this.complements.filter(el => el !== null)\r\n\r\n        }\r\n        // Removendo do formulário a lista de complementos.\r\n        this.form.patchValue({\r\n          complements: null\r\n        });\r\n      }\r\n      //Página de criação de produto\r\n      else {\r\n        if (this.shared.latest_category) {\r\n          this.form.patchValue({\r\n            category: this.shared.latest_category.id\r\n          })\r\n          this.categoryActual = this.shared.latest_category;\r\n        }\r\n      }\r\n\r\n      this.loading = false\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  // amountChange(valor) {\r\n  //   this.form.patchValue({ priceBase: this.money.detectAmount(valor) })\r\n  // }\r\n\r\n  async selectCategory() {\r\n    const modal = await this.modalCtrl.create({\r\n      component: CategorySelectPage,\r\n      componentProps: {\r\n        company: this.company,\r\n        categoryActual: this.categoryActual\r\n      }\r\n    });\r\n    modal.onDidDismiss().then((ev: OverlayEventDetail) => {\r\n      if (ev && ev.data && ev.data.category) {\r\n        this.form.patchValue({ category: ev.data.category.id })\r\n        this.categoryActual = ev.data.category\r\n        this.shared.latest_category = ev.data.category\r\n      }\r\n    })\r\n    modal.present()\r\n  }\r\n\r\n  /**\r\n   * @todo CAN DEACTIVE ATUALIZAR PARA O METODO DO ANGULAR: https://angular.io/api/router/CanDeactivate\r\n   \r\n  ionViewCanLeave() {\r\n    /**\r\n     * Verifica se o form foi alterado\r\n     *\r\n    let change: boolean\r\n    if (this.product) {\r\n      if (JSON.stringify(this.complements) == JSON.stringify(this.product.complements)) {\r\n        for (let key in this.form.value) {\r\n          if (this.form.value.category != this.product.category.id) {\r\n            change = true\r\n          } else if (this.form.value[key] != this.product[key] && key != 'category') {\r\n            change = true\r\n          }\r\n        }\r\n      } else {\r\n        change = true\r\n      }\r\n    } else {\r\n      if (this.complements.length < 1) {\r\n        for (let key in this.form.value) {\r\n          if (this.form.value[key]) change = true\r\n        }\r\n      } else {\r\n        change = true\r\n      }\r\n    }\r\n    /**\r\n     * Verifica se o usuário pode sair da pagina antes de salvar as alterações\r\n     *\r\n    return new Promise(async (resolve: Function, reject: Function) => {\r\n      if (this.saveChange) {\r\n        resolve()\r\n      } else if (change) {\r\n        let alert = await this.alert.create({\r\n          header: 'Deseja sair sem salvar suas alterações ?',\r\n          buttons: [{\r\n            role: 'cancel',\r\n            text: 'Cancelar',\r\n            handler: () => {\r\n              reject()\r\n            }\r\n          }, {\r\n            text: 'Confirmar',\r\n            handler: () => {\r\n              resolve()\r\n            }\r\n          }]\r\n        })\r\n        alert.present()\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n  }*/\r\n\r\n  /**\r\n   * Dispara evento se as teclas alt + n for pressionado\r\n   * @param event evento\r\n   */\r\n  hotkeys(event) {\r\n    if (event.keyCode == 67 && event.altKey) {\r\n      this.updateComplement();\r\n    } else if (event.keyCode == 83 && event.altKey) {\r\n      this.save();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Criando ou editando um complemento.\r\n   * Chamar modal que retorna o novo complemento a ser atualizado.\r\n   * Se o indice for undefined adiciona no fim do array.\r\n   * Se não for undefined atualiza o novo complemento no complemento de indice especificado.\r\n   * @param complement Complemento que será atualizado, ou se vazio adicionar um novo complemento.\r\n   */\r\n  async updateComplement(complement?: Complement) {\r\n\r\n    //Se params é undefined então é para ser criado um novo complemento.\r\n    let loading = await this.loadingCtrl.create({})\r\n    loading.present()\r\n\r\n\r\n    const modal = await this.modalCtrl.create({\r\n      component: ProductComplementUpdatePage,\r\n      componentProps: {\r\n        complement: complement ? complement : {}\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((ev: OverlayEventDetail) => {\r\n      if (ev.data) {\r\n        let new_complement: Complement = ev.data.new_complement;\r\n        // Se o indice não existe\r\n        if (complement) {\r\n          let index = this.complements.indexOf(complement);\r\n          // Atualizar em um já existente.\r\n          this.complements[index] = new_complement;\r\n        } else {\r\n          // Adicionar como novo complemento.\r\n          this.complements.push(new_complement);\r\n        }\r\n      }\r\n    })\r\n\r\n    modal.present().then(() => {\r\n      loading.dismiss()\r\n    })\r\n  }\r\n\r\n  detect() {\r\n    this.ref.detectChanges()\r\n  }\r\n\r\n  /**\r\n   * Remover complemento\r\n   * @param complement Complemento a ser removido.\r\n   */\r\n  removeComplement(complement: Complement) {\r\n    let index: number = this.complements.indexOf(complement);\r\n    this.complements.splice(index, 1);\r\n    this.ref.detectChanges()\r\n  }\r\n\r\n  /**\r\n   * Voltar página sem salvar alterações\r\n   */\r\n  cancel(): void {\r\n    this.navCtrl.navigateRoot(['product/list', { company_id: this.company.id }])\r\n  }\r\n\r\n  /**\r\n   * Subir complemento uma posição\r\n   * @param complement complemento que se deseja subir\r\n   * @param index index do complemento que se deseja subir\r\n   */\r\n  upComplement(complement, index) {\r\n\r\n    if (!this.complements[index - 1]) return;\r\n\r\n    let aux = this.complements[index - 1];\r\n    this.complements[index - 1] = this.complements[index];\r\n    this.complements[index] = aux;\r\n    this.ref.detectChanges()\r\n  }\r\n\r\n  /**\r\n   * Descer complemento uma posição\r\n   * @param complement complemento que se deseja descer\r\n   * @param index index do complemento que se deseja descer\r\n   */\r\n  downComplement(complement, index) {\r\n\r\n    if (!this.complements[index + 1]) return;\r\n\r\n    let aux = this.complements[index + 1];\r\n    this.complements[index + 1] = this.complements[index];\r\n    this.complements[index] = aux;\r\n    this.ref.detectChanges()\r\n  }\r\n\r\n  /**\r\n   * Remove produto do database\r\n   */\r\n  remove(): Observable<any> {\r\n    if (this.product) {\r\n      return Product.remove(this.product.id, [\r\n        {\r\n          relationship: Product.company,\r\n          removeId: this.company.id\r\n        },\r\n        {\r\n          relationship: Product.category,\r\n          removeId: this.categoryOld.id\r\n        }\r\n      ])\r\n        .pipe(tap(() => {\r\n          this.cancel()\r\n        }))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Salvar alterações e redirecionar para página anterior\r\n   */\r\n  save(): Observable<any> {\r\n\r\n    if (this.form.value.promotionActive && !this.promotionType) {\r\n      return throwError(Error(\"Você precisa escolher como deseja definir a promoção\"));\r\n    }\r\n\r\n    if (this.form.value.promotionActive && this.promotionType == 'money' && !this.form.value.promotionPrice) {\r\n      return throwError(Error(\"Você precisa definir o valor do desconto\"));\r\n    }\r\n\r\n    if (this.form.value.promotionActive && this.promotionType == 'percentage' && !this.form.value.promotionPercentage) {\r\n      return throwError(Error(\"Você precisa definir a porcentagem de desconto\"));\r\n    }\r\n\r\n    if (!this.categoryActual) {\r\n      return throwError(Error(\"Você precisa selecionar uma categoria para o produto\"));\r\n    }\r\n\r\n    if (!this.form.value.promotionActive) {\r\n      let obj = {\r\n        promotionPercentage: null,\r\n        promotionPrice: null\r\n      }\r\n      this.form.patchValue(obj);\r\n    }\r\n    else if (this.promotionType == 'money') {\r\n      let obj = {\r\n        promotionPrice: this.form.value.promotionPrice >= 0 ? this.form.value.promotionPrice : -1 * this.form.value.promotionPrice,\r\n        promotionPercentage: null\r\n      }\r\n      this.form.patchValue(obj);\r\n    }\r\n    else {\r\n      let obj = {\r\n        promotionPrice: null\r\n      }\r\n      this.form.patchValue(obj);\r\n    }\r\n    console.log(\"produto a ser salvo: \", this.form.value);\r\n    let new_product: Product = this.form.value;\r\n    //Remover categoria como atributo antes de salvar\r\n    //Será considerada apenas no relacionamento\r\n    delete (new_product as any).category;\r\n    // Copia os complementos atuais para que quando ele set os nulls não apareça na view\r\n    new_product.complements = this.complements || [];\r\n    // Convertendo o priceBase de string para número\r\n    new_product.priceBase = +new_product.priceBase;\r\n    new_product = Product.calculatePrice(new_product);\r\n    // Página de edição, atualizar objeto no database\r\n    if (this.product && !this.copy) {\r\n      this.saveChange = true;\r\n      return Product.update(this.product.id, new_product, [{\r\n        relationship: Product.category,\r\n        id: this.categoryActual.id,\r\n        removeId: this.categoryOld.id\r\n      }])\r\n        .pipe(tap(() => {\r\n          this.cancel()\r\n        }))\r\n    }\r\n    //Página de registro, criar novo objeto no database\r\n    else {\r\n      this.saveChange = true;\r\n      return Product.add(new_product, [\r\n        {\r\n          relationship: Product.company,\r\n          id: this.company.id\r\n        },\r\n        {\r\n          relationship: Product.category,\r\n          id: this.categoryActual.id\r\n        }\r\n      ])\r\n        .pipe(tap(() => {\r\n          this.cancel()\r\n        }))\r\n    }\r\n\r\n  }\r\n\r\n}"],"sourceRoot":""}