{"version":3,"sources":["webpack:///./src/app/panel/pages/product/product-global/product-global.module.ts","webpack:///./src/app/panel/pages/product/product-global/product-global.page.html","webpack:///./src/app/panel/pages/product/product-global/product-global.page.scss","webpack:///./src/app/panel/pages/product/product-global/product-global.page.ts"],"names":[],"mappings":"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","file":"panel-pages-product-product-global-product-global-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProductGlobalPage } from './product-global.page';\r\nimport { PanelComponentsModule } from '../../../components/panel-components.module';\r\nimport { GlobalComponentsModule } from '../../../../components/global-components.module';\r\nimport { NgPipesModule } from 'ngx-pipes';\r\nimport { PipesModule } from '../../../../pipes/pipes.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductGlobalPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    PanelComponentsModule,\r\n    GlobalComponentsModule,\r\n    NgPipesModule,\r\n    PipesModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ProductGlobalPage]\r\n})\r\nexport class ProductGlobalPageModule { }\r\n","module.exports = \"<ion-header no-border>\\r\\n  <nano-navbar title=\\\"Produtos globais\\\" icon=\\\"menus-icon-ecommerce-43\\\">\\r\\n  </nano-navbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n\\r\\n  <ion-card class=\\\"content-card\\\">\\r\\n    <ion-searchbar [(ngModel)]=\\\"searchString\\\" placeholder=\\\"Pesquisar\\\" (ionChange)=\\\"change()\\\">\\r\\n    </ion-searchbar>\\r\\n\\r\\n    <nano-loading [loading]=\\\"loading\\\">\\r\\n      <ion-list>\\r\\n        <div *ngFor=\\\"let product of products | filterBy:['name', 'description']:searchString; let i = index\\\">\\r\\n          <ion-item no-lines padding text-wrap class=\\\"product\\\">\\r\\n            <!-- Imagem -->\\r\\n            <nano-thumb [ngClass]=\\\"{ 'goneImage' : !product?.image }\\\" item-left [src]=\\\"product.image\\\"></nano-thumb>\\r\\n            <!-- Nome -->\\r\\n            <h2 text-wrap padding-top padding-horizontal>\\r\\n              {{product.name}}\\r\\n            </h2>\\r\\n            <!-- Descrição -->\\r\\n            <p text-wrap padding-horizontal>{{product.description}}</p>\\r\\n\\r\\n            <p text-wrap padding-horizontal>\\r\\n              R$ {{product.priceBase | number : '1.2-2'}}\\r\\n            </p>\\r\\n            <div item-right>\\r\\n              <ion-button (click)=\\\"edit(product)\\\" fill=\\\"clear\\\" color=\\\"proceed\\\">\\r\\n                <ion-icon name=\\\"md-create\\\"></ion-icon> Editar\\r\\n              </ion-button>\\r\\n            </div>\\r\\n          </ion-item>\\r\\n        </div>\\r\\n\\r\\n        <ion-item text-center padding *ngIf=\\\"!existsProducts\\\">\\r\\n          <p ion-text>Você ainda não possui nenhum produto</p>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </nano-loading>\\r\\n  </ion-card>\\r\\n  \\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button color=\\\"primary\\\" (click)=\\\"add()\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n</ion-content>\"","module.exports = \"ion-content {\\n  background-color: #f8f8f8 !important; }\\n\\nion-grid ion-icon {\\n  margin-top: 14px;\\n  font-size: 2.2em; }\\n\\nion-item-divider {\\n  border-bottom: none !important; }\\n\\nion-item-divider ion-label {\\n    margin-bottom: 0px !important; }\\n\\nion-item-divider h1 {\\n    color: #333333 !important;\\n    font-family: myFontBold !important;\\n    padding-top: 16px;\\n    font-size: 2.0em;\\n    text-align: left !important;\\n    margin: 0 0.7em;\\n    border-bottom: 1px dashed #999; }\\n\\nion-item {\\n  padding: 8px 16px 8px 16px !important; }\\n\\n@media (max-width: 400px) {\\n    ion-item {\\n      display: flex;\\n      flex-direction: column;\\n      margin-top: 10px; } }\\n\\nion-item ion-label {\\n    padding-left: 8px !important; }\\n\\nion-item ion-label h2 {\\n      font-weight: bold !important; }\\n\\nion-item nano-thumb.goneImage {\\n    display: none !important; }\\n\\nion-item button {\\n    padding: 8px !important; }\\n\\n.category-name {\\n  font-family: myFontBold;\\n  padding-top: 16px;\\n  font-size: 2.0em;\\n  text-align: left;\\n  margin: 0 0.7em;\\n  border-bottom: 1px dashed #999;\\n  margin-bottom: 10px !important; }\\n\\n.products {\\n  margin: auto; }\\n\\n.products .list-item {\\n    display: flex;\\n    margin: 0.6em 0 0.6em 1.6em;\\n    background-color: white !important; }\\n\\n.products .list-item .product-item {\\n      -ms-grid-row-align: center;\\n          align-self: center;\\n      margin-right: 1.2em; }\\n\\n.products .list-item .product-item .name {\\n        font-size: 1.4em;\\n        color: #666; }\\n\\n.products .list-item .product-item .description {\\n        font-size: 1em;\\n        color: #999; }\\n\\n.products .list-item .product-item .price {\\n        white-space: nowrap;\\n        font-size: 1.4em;\\n        color: #4c4; }\\n\\n.myfilter {\\n  display: flex; }\\n\\n.myfilter button {\\n    -ms-grid-row-align: center;\\n        align-self: center;\\n    margin-right: 8px !important; }\\n\"","import { Component, OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Company } from '../../../../../models/company';\r\nimport { Product } from '../../../../../models/product';\r\nimport { NavController, MenuController } from '@ionic/angular';\r\nimport { FilialType } from '../../../../../models/filial';\r\n\r\n@Component({\r\n  selector: 'app-product-global',\r\n  templateUrl: './product-global.page.html',\r\n  styleUrls: ['./product-global.page.scss'],\r\n})\r\nexport class ProductGlobalPage implements OnInit, OnDestroy {\r\n\r\n  /**\r\n   * Capta o que foi digitado pelo usuário no campo de pesquisa\r\n   */\r\n  searchString: string = \"\";\r\n\r\n  /**\r\n   * Lista de produtos ordenados\r\n   */\r\n  products: Product[]\r\n\r\n  /**\r\n   * Subscription do subscribe inicial que carrega os produtos\r\n   */\r\n  subscriptionProducts: Subscription\r\n\r\n  /**\r\n   * Se está carregando os elementos da página.\r\n   */\r\n  loading: boolean = true;\r\n\r\n  /**\r\n   * Verifica se existem produtos\r\n   */\r\n  existsProducts: boolean = true;\r\n\r\n  /**\r\n   * Empresa atual\r\n   */\r\n  company: Company;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    private menuCtrl: MenuController,\r\n    private ref: ChangeDetectorRef) { }\r\n\r\n  /**\r\n   * Inicializando estruturas após entrar na página.\r\n   */\r\n  ngOnInit(): void {\r\n    this.menuCtrl.enable(true)\r\n    this.load()\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscriptionProducts) {\r\n      this.subscriptionProducts.unsubscribe()\r\n    }\r\n  }\r\n\r\n  load() {\r\n    this.existsProducts = true\r\n    this.loading = true\r\n\r\n    this.subscriptionProducts = Product.list([{\r\n      name: 'global.type',\r\n      operator: '==',\r\n      value: FilialType.WAREHOUSE\r\n    }])\r\n      .subscribe((products: Product[]) => {\r\n        if (!products || products.length <= 0) this.existsProducts = false\r\n        this.products = products;\r\n        this.loading = false\r\n        this.change()\r\n      })\r\n  }\r\n\r\n  change() {\r\n    this.ref.detectChanges()\r\n  }\r\n\r\n  add() {\r\n    this.navCtrl.navigateRoot(['product/global/edit'])\r\n  }\r\n\r\n  edit(product: Product) {\r\n    this.navCtrl.navigateRoot(['product/global/edit', { product_id: product.id }])\r\n  }\r\n\r\n}"],"sourceRoot":""}